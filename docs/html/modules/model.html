<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>veefire.api.dbapi &#8211; Database and Filesystem &mdash; veefire v1.0 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '1.0',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: ''
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/interface.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="contents" title="Global table of contents" href="../contents.html" />
    <link rel="index" title="Global index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="veefire v1.0 documentation" href="../index.html" />
    <link rel="next" title="Show Database" href="../misc/database.html" />
    <link rel="prev" title="Welcome to veefire&#8217;s documentation!" href="../index.html" />
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../misc/database.html" title="Show Database"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to veefire&#8217;s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">veefire v1.0 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  
  <div class="section">
<h1 id="module-veefire.api.dbapi"><tt class="xref docutils literal"><span class="pre">veefire.api.dbapi</span></tt> &#8211; Database and Filesystem<a class="headerlink" href="#module-veefire.api.dbapi" title="Permalink to this headline">¶</a></h1>
<p>Contains classes for the show database and filesystems.</p>
<dl class="class">
<dt id="veefire.api.dbapi.Database">
<!--[veefire.api.dbapi.Database]-->class <tt class="descclassname">veefire.api.dbapi.</tt><tt class="descname">Database</tt><big>(</big><em>dbDir=None</em>, <em>shows=None</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database" title="Permalink to this definition">¶</a></dt>
<dd><p>Database contains all shows, and provides methods for manipulating them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>dbDir</em> (string or None) &#8211; Path to database directory</li>
<li><em>shows</em> (list or None) &#8211; list of valid Shows in this database</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.dbapi.Database.addShow">
<!--[veefire.api.dbapi.Database.addShow]--><tt class="descname">addShow</tt><big>(</big><em>InputShow</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.addShow" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Show.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputShow</em> (api.dbapi.Show

/home/meastp/Development/Launchpad/veefire/features/proper-paths/veefire/api/dbapi.py:docstring of Database.addShow:5: (INFO/1) No role entry for &#8220;class&#8221; in module &#8220;docutils.parsers.rst.languages.en&#8221;.
Trying &#8220;class&#8221; as canonical role name.) &#8211; Show to add.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Show.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.delete">
<!--[veefire.api.dbapi.Database.delete]--><tt class="descname">delete</tt><big>(</big><em>Show</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a show from disk.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>Show</em> (api.dbapi.Show) &#8211; The show to be deleted.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Show. Else, returns None.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.getShow">
<!--[veefire.api.dbapi.Database.getShow]--><tt class="descname">getShow</tt><big>(</big><em>InputShow</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.getShow" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Show.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputShow</em> (api.dbapi.Show) &#8211; Show to get. The name needs to be equal.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Show.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.loadDB">
<!--[veefire.api.dbapi.Database.loadDB]--><tt class="descname">loadDB</tt><big>(</big><em>shows=None</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.loadDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Load shows from the &#8216;database&#8217; directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>shows</em> (list or None) &#8211; list of valid Shows in this database</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.printDb">
<!--[veefire.api.dbapi.Database.printDb]--><tt class="descname">printDb</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.printDb" title="Permalink to this definition">¶</a></dt>
<dd>Print the Database&#8217;s contents.</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.removeShow">
<!--[veefire.api.dbapi.Database.removeShow]--><tt class="descname">removeShow</tt><big>(</big><em>InputShow</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.removeShow" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a Show.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputShow</em> (api.dbapi.Show) &#8211; Show to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Show.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.updateShow">
<!--[veefire.api.dbapi.Database.updateShow]--><tt class="descname">updateShow</tt><big>(</big><em>Show</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.updateShow" title="Permalink to this definition">¶</a></dt>
<dd><p>Updade a single show from the &#8216;database&#8217; directory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>shows</em> (api.dbapi.Show) &#8211; Show to update</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Database.write">
<!--[veefire.api.dbapi.Database.write]--><tt class="descname">write</tt><big>(</big><em>verbose=False</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Database.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the Database (XML) to the &#8216;database&#8217; folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>verbose</em> (True or False) &#8211; verbose mode. prints info to stdout</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.dbapi.Alias">
<!--[veefire.api.dbapi.Alias]-->class <tt class="descclassname">veefire.api.dbapi.</tt><tt class="descname">Alias</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Alias" title="Permalink to this definition">¶</a></dt>
<dd><p>An Alias.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>name</em> (string) &#8211; Alternative file name for this show. e.g bb for black books or mash for M*A*S*H</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="veefire.api.dbapi.Show">
<!--[veefire.api.dbapi.Show]-->class <tt class="descclassname">veefire.api.dbapi.</tt><tt class="descname">Show</tt><big>(</big><em>name</em>, <em>duration</em>, <em>backend</em>, <em>url</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show" title="Permalink to this definition">¶</a></dt>
<dd><p>A Show. Contains Seasons, Aliases and a Filesystem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>name</em> (string) &#8211; Show name</li>
<li><em>duration</em> (string) &#8211; Duration of this show</li>
<li><em>Filesystem</em> (api.dbapi.Filesystem) &#8211; Filesystem for this show</li>
<li><em>backend</em> (string) &#8211; The backend this show uses. Must be valid.</li>
<li><em>url</em> (string) &#8211; relative url for this show</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.dbapi.Show.addAlias">
<!--[veefire.api.dbapi.Show.addAlias]--><tt class="descname">addAlias</tt><big>(</big><em>InputAlias</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.addAlias" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an alias.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputAlias</em> (api.dbapi.Alias) &#8211; Alias to add</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Alias.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Alias</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.addEpisode">
<!--[veefire.api.dbapi.Show.addEpisode]--><tt class="descname">addEpisode</tt><big>(</big><em>InputEpisode</em>, <em>InputSeason</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.addEpisode" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an Episode to a Season.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputEpisode</em> (api.dbapi.Episode) &#8211; Episode to add</li>
<li><em>InputSeason</em> (api.dbapi.Season) &#8211; Season the Episode belongs in</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Returns Episode if Season exists, else returns Season</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Episode</span></tt> or <cite>api.dbapi.Season</cite></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.addSeason">
<!--[veefire.api.dbapi.Show.addSeason]--><tt class="descname">addSeason</tt><big>(</big><em>InputSeason</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.addSeason" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Season to the Show.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputSeason</em> (api.dbapi.Season) &#8211; Season to add</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Season.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Season</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.clearEpisodes">
<!--[veefire.api.dbapi.Show.clearEpisodes]--><tt class="descname">clearEpisodes</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.clearEpisodes" title="Permalink to this definition">¶</a></dt>
<dd>Remove all Seasons and Episodes.</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.getAlias">
<!--[veefire.api.dbapi.Show.getAlias]--><tt class="descname">getAlias</tt><big>(</big><em>InputAlias</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.getAlias" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an Alias.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputAlias</em> (api.dbapi.Alias) &#8211; Alias to return. Name needs to be equal</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Alias.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Alias</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.getSeason">
<!--[veefire.api.dbapi.Show.getSeason]--><tt class="descname">getSeason</tt><big>(</big><em>InputSeason</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.getSeason" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Season.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputSeason</em> (api.dbapi.Season) &#8211; Season to return. Name needs to be equal.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Season.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Season</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.printShow">
<!--[veefire.api.dbapi.Show.printShow]--><tt class="descname">printShow</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.printShow" title="Permalink to this definition">¶</a></dt>
<dd>Print contents of Show.</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.removeAlias">
<!--[veefire.api.dbapi.Show.removeAlias]--><tt class="descname">removeAlias</tt><big>(</big><em>InputAlias</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.removeAlias" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an Alias</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputAlias</em> (api.dbapi.Alias) &#8211; Alias to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Alias.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Alias</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Show.removeSeason">
<!--[veefire.api.dbapi.Show.removeSeason]--><tt class="descname">removeSeason</tt><big>(</big><em>InputSeason</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Show.removeSeason" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a Season.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputSeason</em> (api.dbapi.Season) &#8211; Season to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Season.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Season</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.dbapi.Season">
<!--[veefire.api.dbapi.Season]-->class <tt class="descclassname">veefire.api.dbapi.</tt><tt class="descname">Season</tt><big>(</big><em>SeasonName</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Season" title="Permalink to this definition">¶</a></dt>
<dd><p>A Season. Contains Episodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>SeasonName</em> (string) &#8211; Season number</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.dbapi.Season.addEpisode">
<!--[veefire.api.dbapi.Season.addEpisode]--><tt class="descname">addEpisode</tt><big>(</big><em>InputEpisode</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Season.addEpisode" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an Episode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputEpisode</em> (api.dbapi.Episode) &#8211; Episode to add</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Episode.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Episode</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Season.getEpisode">
<!--[veefire.api.dbapi.Season.getEpisode]--><tt class="descname">getEpisode</tt><big>(</big><em>InputEpisode</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Season.getEpisode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an Episode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputEpisode</em> (api.dbapi.Episode) &#8211; Episode to return. Name needs to be equal</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Episode.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Episode</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.dbapi.Season.removeEpisode">
<!--[veefire.api.dbapi.Season.removeEpisode]--><tt class="descname">removeEpisode</tt><big>(</big><em>InputEpisode</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Season.removeEpisode" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an Episode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputEpisode</em> (api.dbapi.Episode) &#8211; Episode to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Episode.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Episode</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.dbapi.Episode">
<!--[veefire.api.dbapi.Episode]-->class <tt class="descclassname">veefire.api.dbapi.</tt><tt class="descname">Episode</tt><big>(</big><em>episodeName</em>, <em>episodeTitle</em>, <em>episodeAirDate</em>, <em>episodeArc='none'</em><big>)</big><a class="headerlink" href="#veefire.api.dbapi.Episode" title="Permalink to this definition">¶</a></dt>
<dd><p>An Episode.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>episodeName</em> (string) &#8211; Name of episode</li>
<li><em>episodeTitle</em> &#8211; Title of episode</li>
<li><em>episodeAirDate</em> (string) &#8211; When this episode was aired</li>
<li><em>episodeArc</em> (string or &#8220;none&#8221;) &#8211; If this is part of an arc.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section">
<h2 id="examples">Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For testing the examples in the Python interpreter, start your Python interactive shell, and do the following.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;&lt;path/to/veefire&gt;&#39;</span><span class="p">)</span> <span class="c"># path to your veefire directory</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<blockquote>
Load the current database files into Python objects, and print a nice formatted overview of it.  In this example, there is a database directory with the xml file in <a class="reference" href="../misc/database.html#database-xml-file"><em>Show Database</em></a>.</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.dbapi</span> <span class="k">import</span> <span class="n">Show</span><span class="p">,</span> <span class="n">Episode</span><span class="p">,</span> <span class="n">Season</span><span class="p">,</span> <span class="n">Database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># import Tools to create a fake test directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Remember to set the root path variable in tests/testproperties.py if you&#39;re not on Windows or Mac.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">tests.testproperties</span> <span class="k">import</span> <span class="n">Tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createRootDir</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createDatabaseFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">databaseDir</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Import the .show files from the database directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">loadDB</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">db</span><span class="o">.</span><span class="n">printDb</span><span class="p">()</span>
<span class="go">####   C.S.I   ####</span>
<span class="go">       Season: 1</span>
<span class="go">               Episode: Pilot</span>
<span class="go">               Episode: Cool Change</span>
<span class="go">               Episode: Crate &#39;n&#39; Burial</span>
<span class="go">               Episode: Pledging Mr. Johnson</span>
<span class="go">               Episode: Friends &amp;#38; Lovers</span>
<span class="go">               Episode: Who Are You?</span>
<span class="go">               Episode: Blood Drops</span>
<span class="go">               Episode: Anonymous</span>
<span class="go">               Episode: Unfriendly Skies</span>
<span class="go">               Episode: Sex, Lies and Larvae</span>
<span class="go">               Episode: I-15 Murders</span>
<span class="go">               Episode: Fahrenheit 932</span>
<span class="go">               Episode: Boom</span>
<span class="go">               Episode: To Halve and to Hold</span>
<span class="go">               Episode: Table Stakes</span>
<span class="go">               Episode: Too Tough to Die</span>
<span class="go">               Episode: Face Lift</span>
<span class="go">               Episode: $35K O.B.O.</span>
<span class="go">               Episode: Gentle, Gentle</span>
<span class="go">               Episode: Sounds of Silence</span>
<span class="go">               Episode: Justice Is Served</span>
<span class="go">               Episode: Evaluation Day</span>
<span class="go">               Episode: The Strip Strangler</span>
<span class="go">       Season: 2</span>
<span class="go">               Episode: Burked</span>
<span class="go">               Episode: Chaos Theory</span>
<span class="go">               Episode: Overload</span>
<span class="go">               Episode: Bully for You</span>
<span class="go">               Episode: Scuba Doobie-Doo</span>
<span class="go">               Episode: Alter Boys</span>
<span class="go">               Episode: Caged</span>
<span class="go">               Episode: Slaves of Las Vegas</span>
<span class="go">               Episode: And Then There Were None</span>
<span class="go">               Episode: Ellie</span>
<span class="go">               Episode: Organ Grinder</span>
<span class="go">               Episode: You&#39;ve Got Male</span>
<span class="go">               Episode: Identity Crisis</span>
<span class="go">               Episode: The Finger</span>
<span class="go">               Episode: Burden of Proof</span>
<span class="go">               Episode: Primum Non Nocere</span>
<span class="go">               Episode: Felonious Monk</span>
<span class="go">               Episode: Chasing the Bus</span>
<span class="go">               Episode: Stalker</span>
<span class="go">               Episode: Cats in the Cradle...</span>
<span class="go">               Episode: Anatomy of a Lye</span>
<span class="go">               Episode: Cross-Jurisdictions</span>
<span class="go">               Episode: The Hunger Artist</span>
<span class="go">####   Spaced   ####</span>
<span class="go">       Season: 1</span>
<span class="go">               Episode: Beginnings</span>
<span class="go">               Episode: Gatherings</span>
<span class="go">               Episode: Art</span>
<span class="go">               Episode: Battles</span>
<span class="go">               Episode: Chaos</span>
<span class="go">               Episode: Epiphanies</span>
<span class="go">               Episode: Ends</span>
<span class="go">       Season: 2</span>
<span class="go">               Episode: Back</span>
<span class="go">               Episode: Change</span>
<span class="go">               Episode: Mettle</span>
<span class="go">               Episode: Help</span>
<span class="go">               Episode: Gone</span>
<span class="go">               Episode: Dissolution</span>
<span class="go">               Episode: Testkonflikt</span>
<span class="go">####   Black Books   ####</span>
<span class="go">       Season: 1</span>
<span class="go">               Episode: Cooking the Books</span>
<span class="go">               Episode: Manny&#39;s First Day</span>
<span class="go">               Episode: The Grapes of Wrath</span>
<span class="go">               Episode: The Blackout</span>
<span class="go">               Episode: The Big Lock-Out</span>
<span class="go">               Episode: He&#39;s Leaving Home</span>
<span class="go">       Season: 2</span>
<span class="go">               Episode: The Entertainer</span>
<span class="go">               Episode: Fever</span>
<span class="go">               Episode: The Fixer</span>
<span class="go">               Episode: Blood</span>
<span class="go">               Episode: Hello Sun</span>
<span class="go">               Episode: A Nice Change</span>
<span class="go">       Season: 3</span>
<span class="go">               Episode: Manny Come Home</span>
<span class="go">               Episode: Elephants and Hens</span>
<span class="go">               Episode: Moo-Ma and Moo-Pa</span>
<span class="go">               Episode: A Little Flutter</span>
<span class="go">               Episode: The Travel Writer</span>
<span class="go">               Episode: Party</span>
</pre></div>
</div>
</div>
<div class="section">
<h1 id="module-veefire.api.renameapi"><tt class="xref docutils literal"><span class="pre">veefire.api.renameapi</span></tt> &#8211; File, Folder and Rename<a class="headerlink" href="#module-veefire.api.renameapi" title="Permalink to this headline">¶</a></h1>
<p>Contains classes for renaming files, using <tt class="xref docutils literal"><span class="pre">backends</span></tt>.</p>
<dl class="class">
<dt id="veefire.api.renameapi.FileName">
<!--[veefire.api.renameapi.FileName]-->class <tt class="descclassname">veefire.api.renameapi.</tt><tt class="descname">FileName</tt><big>(</big><em>fileName</em>, <em>Database</em>, <em>invalidphrases=None</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName" title="Permalink to this definition">¶</a></dt>
<dd><p>A File.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>fileName</em> (string) &#8211; raw file name</li>
<li><em>Database</em> (api.dbapi.Database) &#8211; Database object</li>
<li><em>invalidphrase</em> (string) &#8211; phrases to remove from file name</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.renameapi.FileName.generateFileName">
<!--[veefire.api.renameapi.FileName.generateFileName]--><tt class="descname">generateFileName</tt><big>(</big><em>Show</em>, <em>fileSystemDir</em>, <em>fileSystem</em>, <em>Style</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.generateFileName" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate and return a file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>Show</em> (api.dbapi.Show) &#8211; Show object to get file name details from.</li>
<li><em>fileSystemDir</em> (string) &#8211; Path to filetypes.xml</li>
<li><em>fileSystem</em> (string) &#8211; Filesystem to use</li>
<li><em>Style</em> (string or None) &#8211; Style to use for the new file name</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.generatePreview">
<!--[veefire.api.renameapi.FileName.generatePreview]--><tt class="descname">generatePreview</tt><big>(</big><em>filesystemDir</em>, <em>fileSystem</em>, <em>Style</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.generatePreview" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current file name and new file name in a tuple.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>filesystemDir</em> (string) &#8211; Path to filetypes.xml</li>
<li><em>fileSystem</em> (string) &#8211; Filesystem to use</li>
<li><em>Style</em> (string or None) &#8211; Style to use for the new file name</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tuple (oldname, newname)</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.getEpisode">
<!--[veefire.api.renameapi.FileName.getEpisode]--><tt class="descname">getEpisode</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.getEpisode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return episode number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">correct episode number for this file name</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.getMatchingShows">
<!--[veefire.api.renameapi.FileName.getMatchingShows]--><tt class="descname">getMatchingShows</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.getMatchingShows" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Possible show matches for this file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">list of Show objects</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.getPattern">
<!--[veefire.api.renameapi.FileName.getPattern]--><tt class="descname">getPattern</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.getPattern" title="Permalink to this definition">¶</a></dt>
<dd><p>Return regex pattern.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">correct regex pattern for this file name</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">regex string or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.getSeason">
<!--[veefire.api.renameapi.FileName.getSeason]--><tt class="descname">getSeason</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.getSeason" title="Permalink to this definition">¶</a></dt>
<dd><p>Return season number.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">correct season number for this file name</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.getShowDetails">
<!--[veefire.api.renameapi.FileName.getShowDetails]--><tt class="descname">getShowDetails</tt><big>(</big><em>filesystemDir</em>, <em>MatchingShow</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.getShowDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves Show details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>filesystemDir</em> (string) &#8211; Path to filetypes.xml</li>
<li><em>Show</em> (api.dbapi.Show) &#8211; Show object to add file name details to.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.renameFile">
<!--[veefire.api.renameapi.FileName.renameFile]--><tt class="descname">renameFile</tt><big>(</big><em>root</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.renameFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename file according to generated file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>root</em> (string) &#8211; path to file, excluding file name.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">tuple with (absolute path) ( oldname, newname )</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">tuple</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.revertFile">
<!--[veefire.api.renameapi.FileName.revertFile]--><tt class="descname">revertFile</tt><big>(</big><em>root</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.revertFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert file name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>root</em> (string) &#8211; path to file, excluding file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.FileName.setCorrectShow">
<!--[veefire.api.renameapi.FileName.setCorrectShow]--><tt class="descname">setCorrectShow</tt><big>(</big><em>Shows</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.FileName.setCorrectShow" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose correct show for this file name.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function is abstract. It raises an exception.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>Shows</em> (list) &#8211; list of possible matches (Show objects) for this file name</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the correct, chosen Show object for this file name</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.renameapi.Folder">
<!--[veefire.api.renameapi.Folder]-->class <tt class="descclassname">veefire.api.renameapi.</tt><tt class="descname">Folder</tt><big>(</big><em>path</em>, <em>dbDir=None</em>, <em>shows=None</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Folder" title="Permalink to this definition">¶</a></dt>
<dd><p>A Folder. Contains FileNames.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>path</em> (string) &#8211; folder path to search in</li>
<li><em>dbDir</em> (string or None) &#8211; Path to database directory</li>
<li><em>shows</em> (list or none) &#8211; limit shows to search through by passing a list of Show objects</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.renameapi.Folder.generatePreviews">
<!--[veefire.api.renameapi.Folder.generatePreviews]--><tt class="descname">generatePreviews</tt><big>(</big><em>filesystemDir</em>, <em>fileSystem</em>, <em>Style</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Folder.generatePreviews" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate previews for every FileName.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>filesystemDir</em> (string) &#8211; Path to filetypes.xml</li>
<li><em>fileSystem</em> (string) &#8211; Filesystem to use</li>
<li><em>Style</em> (string or None) &#8211; Style to use for the new file name</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of tuples (oldname, newname) for every FileName</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Folder.getMatchingShows">
<!--[veefire.api.renameapi.Folder.getMatchingShows]--><tt class="descname">getMatchingShows</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Folder.getMatchingShows" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Possible show matches for every FileName.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">list of FileName objects</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.renameapi.Rename">
<!--[veefire.api.renameapi.Rename]-->class <tt class="descclassname">veefire.api.renameapi.</tt><tt class="descname">Rename</tt><big>(</big><em>dbDir</em>, <em>filesystemDir</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename files. Contains Folders.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>dbDir</em> (string or None) &#8211; Path to database directory</li>
<li><em>filesystemDir</em> (string) &#8211; Path to filetypes.xml</li>
<li><em>fileSystem</em> (string) &#8211; Filesystem to use</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.renameapi.Rename.addFolder">
<!--[veefire.api.renameapi.Rename.addFolder]--><tt class="descname">addFolder</tt><big>(</big><em>InputFolder</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename.addFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFolder</em> (api.renameapi.Folder) &#8211; Folder to add</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Folder.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.renameapi.Folder</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Rename.addFoldersRecursively">
<!--[veefire.api.renameapi.Rename.addFoldersRecursively]--><tt class="descname">addFoldersRecursively</tt><big>(</big><em>RootFolder</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename.addFoldersRecursively" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFolder</em> (api.renameapi.Folder) &#8211; Root folder.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns root Folder.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.renameapi.Folder</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Rename.generatePreviews">
<!--[veefire.api.renameapi.Rename.generatePreviews]--><tt class="descname">generatePreviews</tt><big>(</big><em>fileSystem</em>, <em>Style='%show - S%seasonE%episode - %title'</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename.generatePreviews" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate previews for every Folder-&gt;FileName.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>fileSystem</em> (string) &#8211; Filesystem to use</li>
<li><em>Style</em> (string or None) &#8211; Style to use for the new file name</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">previews (oldname, newname) for every file in every folder</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Rename.getFolder">
<!--[veefire.api.renameapi.Rename.getFolder]--><tt class="descname">getFolder</tt><big>(</big><em>InputFolder</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename.getFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFolder</em> (api.renameapi.Folder) &#8211; Folder to add. Path needs to match</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Folder.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.renameapi.Folder</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Rename.getMatchingShows">
<!--[veefire.api.renameapi.Rename.getMatchingShows]--><tt class="descname">getMatchingShows</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename.getMatchingShows" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Possible show matches for every FileName in Folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">list of Folder objects</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Rename.removeFolder">
<!--[veefire.api.renameapi.Rename.removeFolder]--><tt class="descname">removeFolder</tt><big>(</big><em>InputFolder</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Rename.removeFolder" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a Folder.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFolder</em> (api.renameapi.Folder) &#8211; Folder to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Folder.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.renameapi.Folder</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.renameapi.Filesystems">
<!--[veefire.api.renameapi.Filesystems]-->class <tt class="descclassname">veefire.api.renameapi.</tt><tt class="descname">Filesystems</tt><big>(</big><em>filesystemsDir=None</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystems" title="Permalink to this definition">¶</a></dt>
<dd><p>Filesystems. Methods for Filesystem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>filesystemDir</em> (string) &#8211; Path to filetypes.xml</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.renameapi.Filesystems.addFilesystem">
<!--[veefire.api.renameapi.Filesystems.addFilesystem]--><tt class="descname">addFilesystem</tt><big>(</big><em>InputFilesystem</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystems.addFilesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a Filesystem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFilesystem</em> (api.dbapi.Filesystem) &#8211; Filesystem to add</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Filesystem.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Filesystem</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Filesystems.getFilesystem">
<!--[veefire.api.renameapi.Filesystems.getFilesystem]--><tt class="descname">getFilesystem</tt><big>(</big><em>InputFilesystem</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystems.getFilesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Filesystem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFilesystem</em> (api.dbapi.Filesystem) &#8211; Filesystem to return. Name needs to be equal</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Filesystem.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Filesystem</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Filesystems.loadFilesystems">
<!--[veefire.api.renameapi.Filesystems.loadFilesystems]--><tt class="descname">loadFilesystems</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystems.loadFilesystems" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current registered filesystems</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Returns:</th><td class="field-body">list of Filesystem objects from the filetypes.xml file.</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Filesystems.removeFilesystem">
<!--[veefire.api.renameapi.Filesystems.removeFilesystem]--><tt class="descname">removeFilesystem</tt><big>(</big><em>InputFilesystem</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystems.removeFilesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a Filesystem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InputFilesystem</em> (api.dbapi.Filesystem) &#8211; Filesystem to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Filesystem.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Filesystem</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.renameapi.Filesystem">
<!--[veefire.api.renameapi.Filesystem]-->class <tt class="descclassname">veefire.api.renameapi.</tt><tt class="descname">Filesystem</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystem" title="Permalink to this definition">¶</a></dt>
<dd><p>A Filesystem. Contains InvChars.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>name</em> (string) &#8211; Name of filesystem</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.renameapi.Filesystem.addChar">
<!--[veefire.api.renameapi.Filesystem.addChar]--><tt class="descname">addChar</tt><big>(</big><em>InvChar</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystem.addChar" title="Permalink to this definition">¶</a></dt>
<dd><p>Add an invalid character.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InvChar</em> (api.dbapi.InvChar) &#8211; Invalid character to add</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Invalid character.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.InvChar</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Filesystem.getChar">
<!--[veefire.api.renameapi.Filesystem.getChar]--><tt class="descname">getChar</tt><big>(</big><em>InvChar</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystem.getChar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an invalid character.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InvChar</em> (api.dbapi.InvChar) &#8211; Invalid character to return. char and replacement needs to be equal</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Invalid character.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.InvChar</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Filesystem.removeChar">
<!--[veefire.api.renameapi.Filesystem.removeChar]--><tt class="descname">removeChar</tt><big>(</big><em>InvChar</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystem.removeChar" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove an invalid character.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>InvChar</em> (api.dbapi.InvChar) &#8211; Invalid character to remove</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">On success, returns Invalid character.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.InvChar</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.renameapi.Filesystem.validateString">
<!--[veefire.api.renameapi.Filesystem.validateString]--><tt class="descname">validateString</tt><big>(</big><em>String</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.Filesystem.validateString" title="Permalink to this definition">¶</a></dt>
<dd><p>Return valid string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>String</em> (string) &#8211; The string to validate against this filesystem</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.renameapi.InvChar">
<!--[veefire.api.renameapi.InvChar]-->class <tt class="descclassname">veefire.api.renameapi.</tt><tt class="descname">InvChar</tt><big>(</big><em>descr</em>, <em>char</em>, <em>replacement</em><big>)</big><a class="headerlink" href="#veefire.api.renameapi.InvChar" title="Permalink to this definition">¶</a></dt>
<dd><p>Invalid character.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>descr</em> (string) &#8211; Name of this invalid character</li>
<li><em>char</em> &#8211; The unicode of this character, as four integers, e.g 0023</li>
<li><em>char</em> &#8211; string</li>
<li><em>replacement</em> &#8211; the text or character replacing the invalid character (char)</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<div class="section">
<h2 id="id1">Examples<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For testing the examples in the Python interpreter, start your Python interactive shell, and do the following.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;&lt;path/to/veefire&gt;&#39;</span><span class="p">)</span> <span class="c"># path to your veefire directory</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<blockquote>
<p>Generate previews for every file name. In this example, there is a database directory with the xml file in <a class="reference" href="../misc/database.html#database-xml-file"><em>Show Database</em></a>. Also, we have some tv show files in our <a class="reference" href="#test-directory"><em>Test Directory</em></a> and the filetypes.xml as explained in <a class="reference" href="../misc/filesystems.html#filetypes-xml"><em>Filesystems in veefire</em></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Remember that FileName.setCorrectShow() needs to be overloaded.</p>
</div>
</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.renameapi</span> <span class="k">import</span> <span class="n">Rename</span><span class="p">,</span> <span class="n">Folder</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.renameapi</span> <span class="k">import</span> <span class="n">FileName</span> <span class="k">as</span> <span class="n">AbstractFileName</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.dbapi</span> <span class="k">import</span> <span class="n">Show</span><span class="p">,</span> <span class="n">Episode</span><span class="p">,</span> <span class="n">Season</span><span class="p">,</span> <span class="n">Database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># import Tools to create a fake test directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Remember to set the root path variable in tests/testproperties.py if you&#39;re not on Windows or Mac.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">tests.testproperties</span> <span class="k">import</span> <span class="n">Tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createRootDir</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createDatabaseFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createFilesystemXML</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createTempFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Overload our abstract function</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">NewFileName</span><span class="p">(</span> <span class="n">AbstractFileName</span> <span class="p">)</span> <span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">setCorrectShow</span><span class="p">(</span> <span class="bp">self</span><span class="p">,</span> <span class="n">Shows</span> <span class="p">)</span> <span class="p">:</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">Shows</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Overload Folder to use NewFileName</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">NewFolder</span><span class="p">(</span><span class="n">Folder</span><span class="p">)</span> <span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">loadFiles</span><span class="p">(</span> <span class="bp">self</span> <span class="p">)</span> <span class="p">:</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="o">=</span> <span class="n">Database</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">dbDir</span> <span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">shows</span> <span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">database</span><span class="o">.</span><span class="n">loadDB</span><span class="p">()</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">fileNames</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">... </span>        <span class="k">for</span> <span class="n">afile</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span> <span class="p">)</span> <span class="p">:</span>
<span class="gp">... </span>            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span> <span class="bp">self</span><span class="o">.</span><span class="n">path</span><span class="p">,</span> <span class="n">afile</span><span class="p">)</span> <span class="p">)</span> <span class="p">:</span>
<span class="gp">... </span>                <span class="n">aFileName</span> <span class="o">=</span> <span class="n">NewFileName</span><span class="p">(</span> <span class="n">afile</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">database</span> <span class="p">)</span>
<span class="gp">... </span>                <span class="bp">self</span><span class="o">.</span><span class="n">fileNames</span><span class="o">.</span><span class="n">append</span><span class="p">(</span> <span class="n">aFileName</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span> <span class="o">=</span> <span class="n">Rename</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">databaseDir</span> <span class="p">,</span> <span class="n">tools</span><span class="o">.</span><span class="n">filetypesXML</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Paths to database and filetypes.xml file.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">addFolder</span><span class="p">(</span><span class="n">NewFolder</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">rootDir</span><span class="p">,</span> <span class="n">tools</span><span class="o">.</span><span class="n">testDirs</span><span class="p">[</span><span class="mf">0</span><span class="p">]),</span> <span class="n">tools</span><span class="o">.</span><span class="n">databaseDir</span><span class="p">))</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/tmp/veefire/Black Books&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Add folder to rename-object.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Alternatively, folders can be added recursively:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">addFoldersRecursively</span><span class="p">(</span> <span class="n">NewFolder</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">rootDir</span><span class="p">,</span> <span class="n">tools</span><span class="o">.</span><span class="n">databaseDir</span><span class="p">))</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/tmp/veefire&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="p">[</span> <span class="n">folder</span><span class="o">.</span><span class="n">path</span> <span class="k">for</span> <span class="n">folder</span> <span class="ow">in</span> <span class="n">me</span><span class="o">.</span><span class="n">folders</span> <span class="p">]</span>
<span class="go">[&#39;/tmp/veefire/Black Books&#39;, &#39;/tmp/veefire&#39;, &#39;/tmp/veefire/Spaced&#39;, &#39;/tmp/veefire/CSI&#39;, &#39;/tmp/veefire/database&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">removeFolder</span><span class="p">(</span> <span class="n">NewFolder</span><span class="p">(</span><span class="s">&#39;/tmp/veefire&#39;</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/tmp/veefire&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">removeFolder</span><span class="p">(</span> <span class="n">NewFolder</span><span class="p">(</span><span class="s">&#39;/tmp/veefire/Spaced&#39;</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/tmp/veefire/Spaced&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">removeFolder</span><span class="p">(</span> <span class="n">NewFolder</span><span class="p">(</span><span class="s">&#39;/tmp/veefire/CSI&#39;</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/tmp/veefire/CSI&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">removeFolder</span><span class="p">(</span> <span class="n">NewFolder</span><span class="p">(</span><span class="s">&#39;/tmp/veefire/database&#39;</span><span class="p">)</span> <span class="p">)</span><span class="o">.</span><span class="n">path</span>
<span class="go">&#39;/tmp/veefire/database&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ms</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">getMatchingShows</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Find correct shows from file name.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">Folder</span> <span class="ow">in</span> <span class="n">ms</span> <span class="p">:</span>
<span class="gp">... </span>   <span class="k">print</span> <span class="n">Folder</span><span class="o">.</span><span class="n">path</span>
<span class="gp">... </span>   <span class="k">for</span> <span class="n">FileName</span> <span class="ow">in</span> <span class="n">Folder</span><span class="o">.</span><span class="n">fileNames</span> <span class="p">:</span>
<span class="gp">... </span>       <span class="k">print</span> <span class="n">FileName</span><span class="o">.</span><span class="n">CorrectShow</span><span class="o">.</span><span class="n">name</span>
<span class="gp">... </span>       <span class="k">print</span> <span class="p">[</span> <span class="n">season</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">season</span> <span class="ow">in</span> <span class="n">FileName</span><span class="o">.</span><span class="n">CorrectShow</span><span class="o">.</span><span class="n">seasons</span> <span class="p">]</span>
<span class="go">/tmp/veefire/Black Books</span>
<span class="go">Black Books</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="go">Black Books</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Printed twice because there are two files from Black Books.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pv</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">generatePreviews</span><span class="p">(</span><span class="s">&#39;ext3&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Generate new filenames from the database.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">Folder</span> <span class="ow">in</span> <span class="n">pv</span> <span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">Folder</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">Folder</span> <span class="p">:</span>
<span class="gp">... </span>        <span class="k">print</span> <span class="n">item</span>
<span class="go">[(&#39;bb.s03e05.avi&#39;, &#39;Black Books - S03E05 - The Travel Writer.avi&#39;), (&#39;blackbooks.s01e02.avi&#39;, &quot;Black Books - S01E02 - Manny&#39;s First Day.avi&quot;)]</span>
<span class="go">(&#39;bb.s03e05.avi&#39;, &#39;Black Books - S03E05 - The Travel Writer.avi&#39;)</span>
<span class="go">(&#39;blackbooks.s01e02.avi&#39;, &quot;Black Books - S01E02 - Manny&#39;s First Day.avi&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pv</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">generatePreviews</span><span class="p">(</span><span class="s">&#39;ext3&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">how - </span><span class="si">%s</span><span class="s">easonX</span><span class="si">%e</span><span class="s">pisode - %title&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># If you want another renaming pattern than the default.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">Folder</span> <span class="ow">in</span> <span class="n">pv</span> <span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">Folder</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">Folder</span> <span class="p">:</span>
<span class="gp">... </span>        <span class="k">print</span> <span class="n">item</span>
<span class="go">[(&#39;bb.s03e05.avi&#39;, &#39;Black Books - 03X05 - The Travel Writer.avi&#39;), (&#39;blackbooks.s01e02.avi&#39;, &quot;Black Books - 01X02 - Manny&#39;s First Day.avi&quot;)]</span>
<span class="go">(&#39;bb.s03e05.avi&#39;, &#39;Black Books - 03X05 - The Travel Writer.avi&#39;)</span>
<span class="go">(&#39;blackbooks.s01e02.avi&#39;, &quot;Black Books - 01X02 - Manny&#39;s First Day.avi&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">Folder</span> <span class="ow">in</span> <span class="n">ms</span> <span class="p">:</span>
<span class="gp">... </span>    <span class="k">print</span> <span class="n">Folder</span><span class="o">.</span><span class="n">path</span>
<span class="gp">... </span>    <span class="k">for</span> <span class="n">FileName</span> <span class="ow">in</span> <span class="n">Folder</span><span class="o">.</span><span class="n">fileNames</span> <span class="p">:</span>
<span class="gp">... </span>        <span class="k">print</span> <span class="n">FileName</span><span class="o">.</span><span class="n">generatedFileName</span> <span class="p">,</span> <span class="n">FileName</span><span class="o">.</span><span class="n">fileName</span>
<span class="go">/tmp/veefire/Black Books</span>
<span class="go">Black Books - 03X05 - The Travel Writer.avi bb.s03e05.avi</span>
<span class="go">Black Books - 01X02 - Manny&#39;s First Day.avi blackbooks.s01e02.avi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Rename files</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">rename</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Revert / Undo previous rename</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">me</span><span class="o">.</span><span class="n">revert</span><span class="p">()</span>
</pre></div>
</div>
<div class="section">
<h2 id="id2"><span id="test-directory"></span>Test Directory<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div class="line-block">
<div class="line"><strong>path</strong> : /tmp/veefire/</div>
<div class="line"><br /></div>
<div class="line"><strong>contents</strong></div>
<div class="line"><br /></div>
<div class="line-block">
<div class="line">Black Books/black.BooKs.s1e02.avi</div>
<div class="line">Black Books/bb.s03e05.avi</div>
<div class="line">CSI/csiS01E11.avi</div>
<div class="line">CSI/CSI.2x12.avi</div>
<div class="line">Spaced/Spaced.2x4.avi</div>
<div class="line">Spaced/Spaced.S02E03.avi</div>
</div>
</div>
</blockquote>
<p><strong>Example:</strong></p>
<blockquote>
Get Filesystem object by name.  The filetypes.xml is explained in <a class="reference" href="../misc/filesystems.html#filetypes-xml"><em>Filesystems in veefire</em></a>.</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.renameapi</span> <span class="k">import</span> <span class="n">Filesystems</span><span class="p">,</span> <span class="n">Filesystem</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># import Tools to create a fake test directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Remember to set the root path variable in tests/testproperties.py if you&#39;re not on Windows or Mac.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">tests.testproperties</span> <span class="k">import</span> <span class="n">Tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createRootDir</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createDatabaseFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createFilesystemXML</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span> <span class="o">=</span> <span class="n">Filesystems</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">filetypesXML</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs1</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">getFilesystem</span><span class="p">(</span> <span class="n">Filesystem</span><span class="p">(</span><span class="s">&quot;ext3&quot;</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">fs1</span><span class="o">.</span><span class="n">validateString</span><span class="p">(</span><span class="s">&quot;thisis/324sdf/@$3?+&quot;</span><span class="p">)</span>
<span class="go">thisisor324sdfor@$3?+</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs2</span> <span class="o">=</span> <span class="n">fs</span><span class="o">.</span><span class="n">getFilesystem</span><span class="p">(</span> <span class="n">Filesystem</span><span class="p">(</span><span class="s">&quot;ntfs&quot;</span><span class="p">)</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">fs2</span><span class="o">.</span><span class="n">validateString</span><span class="p">(</span><span class="s">&quot;thisis/324sdf/@$3?+&quot;</span><span class="p">)</span>
<span class="go">thisisor324sdforatUSD3Qoplus</span>
</pre></div>
</div>
</div>
<div class="section">
<h1 id="module-veefire.api.preferencesapi"><tt class="xref docutils literal"><span class="pre">veefire.api.preferencesapi</span></tt> &#8211; Preferences<a class="headerlink" href="#module-veefire.api.preferencesapi" title="Permalink to this headline">¶</a></h1>
<p>Contains classes for the Preferences.</p>
<dl class="class">
<dt id="veefire.api.preferencesapi.Preferences">
<!--[veefire.api.preferencesapi.Preferences]-->class <tt class="descclassname">veefire.api.preferencesapi.</tt><tt class="descname">Preferences</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#veefire.api.preferencesapi.Preferences" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>filename</em> (string) &#8211; path to preferences file</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.preferencesapi.Preferences.addOption">
<!--[veefire.api.preferencesapi.Preferences.addOption]--><tt class="descname">addOption</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="headerlink" href="#veefire.api.preferencesapi.Preferences.addOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Add option value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>key</em> (string) &#8211; Name of property/option.</li>
<li><em>value</em> (string) &#8211; Value of option.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.preferencesapi.Preferences.getOptions">
<!--[veefire.api.preferencesapi.Preferences.getOptions]--><tt class="descname">getOptions</tt><big>(</big><em>key</em><big>)</big><a class="headerlink" href="#veefire.api.preferencesapi.Preferences.getOptions" title="Permalink to this definition">¶</a></dt>
<dd><p>Get option value(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>key</em> (string) &#8211; Name of property/option.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.preferencesapi.Preferences.load">
<!--[veefire.api.preferencesapi.Preferences.load]--><tt class="descname">load</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.preferencesapi.Preferences.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the Preferencesfile into the dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>filename</em> (string) &#8211; Path to Preferences file.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.preferencesapi.Preferences.removeOption">
<!--[veefire.api.preferencesapi.Preferences.removeOption]--><tt class="descname">removeOption</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="headerlink" href="#veefire.api.preferencesapi.Preferences.removeOption" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove option value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>key</em> (string) &#8211; Name of property/option.</li>
<li><em>value</em> (string) &#8211; Value of option.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.preferencesapi.Preferences.save">
<!--[veefire.api.preferencesapi.Preferences.save]--><tt class="descname">save</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.preferencesapi.Preferences.save" title="Permalink to this definition">¶</a></dt>
<dd>Saves the dict to the Preferencesfile.</dd></dl>

</dd></dl>

<div class="section">
<h2 id="id3">Examples<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For testing the examples in the Python interpreter, start your Python interactive shell, and do the following.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;&lt;path/to/veefire&gt;&#39;</span><span class="p">)</span> <span class="c"># path to your veefire directory</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<blockquote>
Manipulate the preferences.xml file ( <a class="reference" href="../misc/preferences.html#preferences-xml"><em>Preferences in veefire</em></a> ).</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.preferencesapi</span> <span class="k">import</span> <span class="n">Preferences</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># import Tools to create a fake test directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Remember to set the root path variable in tests/testproperties.py if you&#39;re not on Windows or Mac.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">tests.testproperties</span> <span class="k">import</span> <span class="n">Tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createRootDir</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createPreferencesXML</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preferences</span> <span class="o">=</span> <span class="n">Preferences</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">preferencesXML</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># load preferences from preferences.xml</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preferences</span><span class="o">.</span><span class="n">load</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># get property</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">preferences</span><span class="p">[</span><span class="s">&#39;confirm-on-rename&#39;</span><span class="p">]</span>
<span class="go">true</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># set property</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preferences</span><span class="p">[</span><span class="s">&#39;confirm-on-rename&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;false&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># list options, if any</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">preferences</span><span class="o">.</span><span class="n">getOptions</span><span class="p">(</span><span class="s">&#39;naming-style&#39;</span><span class="p">)</span>
<span class="go">[&#39;%show - S%seasonE%episode - %title&#39;, &#39;%show.%seasonx%episode.%title&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># add option</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="n">preferences</span><span class="o">.</span><span class="n">addOption</span><span class="p">(</span><span class="s">&#39;naming-style&#39;</span><span class="p">,</span> <span class="s">&#39;3&#39;</span><span class="p">)</span>
<span class="go">[&#39;%show - S%seasonE%episode - %title&#39;, &#39;%show.%seasonx%episode.%title&#39;, &#39;3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># remove option</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preferences</span><span class="o">.</span><span class="n">removeOption</span><span class="p">(</span><span class="s">&#39;naming-style&#39;</span><span class="p">,</span> <span class="s">&#39;</span><span class="si">%s</span><span class="s">how - S</span><span class="si">%s</span><span class="s">easonE</span><span class="si">%e</span><span class="s">pisode - %title&#39;</span><span class="p">)</span>
<span class="go">[&#39;%show.%seasonx%episode.%title&#39;, &#39;3&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># save xml-file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">preferences</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section">
<h1 id="module-veefire.api.backendapi"><tt class="xref docutils literal"><span class="pre">veefire.api.backendapi</span></tt> &#8211; Backends and BackendInterface<a class="headerlink" href="#module-veefire.api.backendapi" title="Permalink to this headline">¶</a></h1>
<p>Contains classes for interfacing with the backends.</p>
<dl class="class">
<dt id="veefire.api.backendapi.Backends">
<!--[veefire.api.backendapi.Backends]-->class <tt class="descclassname">veefire.api.backendapi.</tt><tt class="descname">Backends</tt><a class="headerlink" href="#veefire.api.backendapi.Backends" title="Permalink to this definition">¶</a></dt>
<dd><p>Common methods for backends.</p>
<dl class="method">
<dt id="veefire.api.backendapi.Backends.getBackends">
<!--[veefire.api.backendapi.Backends.getBackends]--><tt class="descname">getBackends</tt><big>(</big><em>BackendDir</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.Backends.getBackends" title="Permalink to this definition">¶</a></dt>
<dd><p>Get registered backends.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>BackendDir</em> (string) &#8211; Directory the backends are located.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">list of backends as string</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">list</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.api.backendapi.BackendInterface">
<!--[veefire.api.backendapi.BackendInterface]-->class <tt class="descclassname">veefire.api.backendapi.</tt><tt class="descname">BackendInterface</tt><big>(</big><em>dbDir=None</em>, <em>shows=None</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Common methods to interface with the backends.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><em>dbDir</em> (string or None) &#8211; Path to database directory</li>
<li><em>shows</em> (list or None) &#8211; list of valid Shows in this database</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.addNewShow">
<!--[veefire.api.backendapi.BackendInterface.addNewShow]--><tt class="descname">addNewShow</tt><big>(</big><em>Show</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.addNewShow" title="Permalink to this definition">¶</a></dt>
<dd><p>Add show to database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>Show</em> (api.dbapi.Show) &#8211; a Show object to add to Database</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.compareDetails">
<!--[veefire.api.backendapi.BackendInterface.compareDetails]--><tt class="descname">compareDetails</tt><big>(</big><em>currentShow</em>, <em>newShow</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.compareDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two Shows for differences.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>currentShow</em> (api.dbapi.Show) &#8211; Old show</li>
<li><em>newShow</em> (api.dbapi.Show) &#8211; New show</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Updated show.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Show</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.compareEpisodes">
<!--[veefire.api.backendapi.BackendInterface.compareEpisodes]--><tt class="descname">compareEpisodes</tt><big>(</big><em>currentEpisode</em>, <em>newEpisode</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.compareEpisodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two Episodes for differences.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>currentEpisode</em> (api.dbapi.Episode) &#8211; Old episode</li>
<li><em>newEpisode</em> (api.dbapi.Episode) &#8211; New episode</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Updated episode or None, if there are no differences.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Season</span></tt> or None</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.compareSeasons">
<!--[veefire.api.backendapi.BackendInterface.compareSeasons]--><tt class="descname">compareSeasons</tt><big>(</big><em>currentSeason</em>, <em>newSeason</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.compareSeasons" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares two Seasons for differences.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>currentSeason</em> (api.dbapi.Season) &#8211; Old season</li>
<li><em>newSeason</em> (api.dbapi.Seson) &#8211; New season</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Updated season.</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Season</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.fillUpdateDB">
<!--[veefire.api.backendapi.BackendInterface.fillUpdateDB]--><tt class="descname">fillUpdateDB</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.fillUpdateDB" title="Permalink to this definition">¶</a></dt>
<dd><p>Copies the Shows from the database to a temporary database, for determining what shows to update.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.incrementalUpdate">
<!--[veefire.api.backendapi.BackendInterface.incrementalUpdate]--><tt class="descname">incrementalUpdate</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.incrementalUpdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates Database incrementally, not overwriting unless allowed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.solveEpisodeConflicts">
<!--[veefire.api.backendapi.BackendInterface.solveEpisodeConflicts]--><tt class="descname">solveEpisodeConflicts</tt><big>(</big><em>firstEpisode</em>, <em>secondEpisode</em><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.solveEpisodeConflicts" title="Permalink to this definition">¶</a></dt>
<dd><p>Choose which episode details to keep.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function is abstract. It raises an exception.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>firstEpisode</em> (api.dbapi.Episode) &#8211; Old episode</li>
<li><em>secondEpisode</em> (api.dbapi.Episode) &#8211; New episode</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Episode</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.api.backendapi.BackendInterface.updateDatabase">
<!--[veefire.api.backendapi.BackendInterface.updateDatabase]--><tt class="descname">updateDatabase</tt><big>(</big><big>)</big><a class="headerlink" href="#veefire.api.backendapi.BackendInterface.updateDatabase" title="Permalink to this definition">¶</a></dt>
<dd><p>Update database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section">
<h2 id="id4">Examples<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For testing the examples in the Python interpreter, start your Python interactive shell, and do the following.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;&lt;path/to/veefire&gt;&#39;</span><span class="p">)</span> <span class="c"># path to your veefire directory</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<blockquote>
Update the Database, using the backends to retrieve information. In this example, there is a database directory with the xml file in <a class="reference" href="../misc/database.html#database-xml-file"><em>Show Database</em></a>.</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.backendapi</span> <span class="k">import</span> <span class="n">BackendInterface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># import Tools to create a fake test directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Remember to set the root path variable in tests/testproperties.py if you&#39;re not on Windows or Mac.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">tests.testproperties</span> <span class="k">import</span> <span class="n">Tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createRootDir</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createDatabaseFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">se</span> <span class="o">=</span> <span class="n">BackendInterface</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">databaseDir</span><span class="p">)</span> <span class="c">#database directory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Optional : you can add new shows to the database, before updating.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># testSession.addNewShow( Show( &quot;Black Books&quot;, &quot;30&quot;, &quot;ext3&quot; , &quot;BaseBackend&quot;, &quot;tt0262150&quot; ) )</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">print</span> <span class="p">[</span> <span class="n">show</span><span class="o">.</span><span class="n">name</span> <span class="k">for</span> <span class="n">show</span> <span class="ow">in</span> <span class="n">se</span><span class="o">.</span><span class="n">currentDB</span><span class="o">.</span><span class="n">database</span> <span class="p">]</span>
<span class="go">[&#39;C.S.I&#39;, &#39;Spaced&#39;, &#39;Black Books&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Automatically (dummy) solve conflicts.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">NewBackendInterface</span><span class="p">(</span><span class="n">BackendInterface</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">solveEpisodeConflicts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">firstEpisode</span><span class="p">,</span> <span class="n">secondEpisode</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="n">firstEpisode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">re</span> <span class="o">=</span> <span class="n">NewBackendInterface</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">databaseDir</span><span class="p">)</span> <span class="c">#database directory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">re</span><span class="o">.</span><span class="n">updateDatabase</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Updates the database, and writes it to the database directory.</span>
</pre></div>
<p><strong>Example:</strong></p>
<blockquote>
Get backend names.</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.backendapi</span> <span class="k">import</span> <span class="n">Backends</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># import Tools to create a fake test directory.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Remember to set the root path variable in tests/testproperties.py if you&#39;re not on Windows or Mac.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">tests.testproperties</span> <span class="k">import</span> <span class="n">Tools</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span> <span class="o">=</span> <span class="n">Tools</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createRootDir</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createDatabaseFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tools</span><span class="o">.</span><span class="n">createBackendFiles</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">se</span> <span class="o">=</span> <span class="n">Backends</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">se</span><span class="o">.</span><span class="n">getBackends</span><span class="p">(</span><span class="n">tools</span><span class="o">.</span><span class="n">BackendDirectory</span><span class="p">)</span>
<span class="go">[&#39;imdbtvbackend&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># View the supported backends.</span>
</pre></div>
</div>
</div>
<div class="section">
<h1 id="module-veefire.backends.base"><tt class="xref docutils literal"><span class="pre">veefire.backends.base</span></tt> &#8211; Backend Superclass<a class="headerlink" href="#module-veefire.backends.base" title="Permalink to this headline">¶</a></h1>
<p>Contains the base class for constructing backends.</p>
<dl class="class">
<dt id="veefire.backends.base.BaseBackend">
<!--[veefire.backends.base.BaseBackend]-->class <tt class="descclassname">veefire.backends.base.</tt><tt class="descname">BaseBackend</tt><a class="headerlink" href="#veefire.backends.base.BaseBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for backends. All backends must inherit this.</p>
<dl class="method">
<dt id="veefire.backends.base.BaseBackend.updateShows">
<!--[veefire.backends.base.BaseBackend.updateShows]--><tt class="descname">updateShows</tt><big>(</big><em>Shows</em><big>)</big><a class="headerlink" href="#veefire.backends.base.BaseBackend.updateShows" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Shows through a Backend.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function is abstract. It raises an exception.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>Shows</em> (list of api.dbapi.Show objects) &#8211; Shows to update</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Database of Show objects</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Database</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section">
<h2 id="id5">Examples<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For testing the examples in the Python interpreter, start your Python interactive shell, and do the following.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;&lt;path/to/veefire&gt;&#39;</span><span class="p">)</span> <span class="c"># path to your veefire directory</span>
</pre></div>
</div>
<p><strong>Example:</strong></p>
<blockquote>
A backend must be able to get data based on Show objects.</blockquote>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.dbapi</span> <span class="k">import</span> <span class="n">Show</span><span class="p">,</span> <span class="n">Episode</span><span class="p">,</span> <span class="n">Season</span><span class="p">,</span> <span class="n">Database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">backends.base</span> <span class="k">import</span> <span class="n">BaseBackend</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Showlist</span> <span class="o">=</span> <span class="p">[</span> <span class="n">Show</span><span class="p">(</span> <span class="s">&quot;Black Books&quot;</span><span class="p">,</span> <span class="s">&quot;30&quot;</span><span class="p">,</span> <span class="s">&quot;BaseBackend&quot;</span><span class="p">,</span> <span class="s">&quot;tt0262150&quot;</span> <span class="p">)</span> <span class="p">,</span>
<span class="gp">... </span><span class="n">Show</span><span class="p">(</span> <span class="s">&quot;The IT Crowd&quot;</span><span class="p">,</span> <span class="s">&quot;30&quot;</span><span class="p">,</span> <span class="s">&quot;BaseBackend&quot;</span><span class="p">,</span> <span class="s">&quot;tt0487831&quot;</span> <span class="p">)</span> <span class="p">,</span>
<span class="gp">... </span><span class="n">Show</span><span class="p">(</span> <span class="s">&quot;Life on Mars&quot;</span><span class="p">,</span> <span class="s">&quot;60&quot;</span><span class="p">,</span> <span class="s">&quot;BaseBackend&quot;</span><span class="p">,</span> <span class="s">&quot;tt0478942&quot;</span> <span class="p">)</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backend</span> <span class="o">=</span> <span class="n">BaseBackend</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DataBase</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">updateShows</span><span class="p">(</span> <span class="n">Showlist</span> <span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;/usr/lib/python2.5/doctest.py&quot;</span>, line <span class="m">1228</span>, in <span class="n-Identifier">__run</span>
    <span class="n">compileflags</span><span class="p">,</span> <span class="mf">1</span><span class="p">)</span> <span class="ow">in</span> <span class="n">test</span><span class="o">.</span><span class="n">globs</span>
  File <span class="nb">&quot;&lt;doctest default[4]&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n-Identifier">&lt;module&gt;</span>
    <span class="n">DataBase</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">updateShows</span><span class="p">(</span> <span class="n">Showlist</span> <span class="p">)</span>
  File <span class="nb">&quot;/home/meastp/Development/Launchpad/veefire/features/example-tests/backends/base.py&quot;</span>, line <span class="m">46</span>, in <span class="n-Identifier">updateShows</span>
    <span class="k">raise</span> <span class="ne">NotImplementedError</span>
<span class="nc">NotImplementedError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Function for BaseBackend is abstract and must be overloaded.</span>
</pre></div>
</div>
</div>
<div class="section">
<h1 id="module-veefire.backends.imdbtv"><tt class="xref docutils literal"><span class="pre">veefire.backends.imdbtv</span></tt> &#8211; Backend to imdb.com&#8217;s tv section<a class="headerlink" href="#module-veefire.backends.imdbtv" title="Permalink to this headline">¶</a></h1>
<p>Contains the backend class for imdbtv&#8217;s tv section</p>
<dl class="class">
<dt id="veefire.backends.imdbtv.Backend">
<!--[veefire.backends.imdbtv.Backend]-->class <tt class="descclassname">veefire.backends.imdbtv.</tt><tt class="descname">Backend</tt><a class="headerlink" href="#veefire.backends.imdbtv.Backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Backend to fetch data from imdb.com&#8217;s tv section ( imdbtv ). Uses BeautifulSoup library for parsing html.</p>
<dl class="method">
<dt id="veefire.backends.imdbtv.Backend.downloadShowList">
<!--[veefire.backends.imdbtv.Backend.downloadShowList]--><tt class="descname">downloadShowList</tt><big>(</big><em>Shows</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Backend.downloadShowList" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a list of Show object&#8217;s episodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>Shows</em> (list of api.dbapi.Show objects) &#8211; Shows to feth data for</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dictionary { value( Show ) : key ( raw html from web page ) }</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.backends.imdbtv.Backend.getShowDetails">
<!--[veefire.backends.imdbtv.Backend.getShowDetails]--><tt class="descname">getShowDetails</tt><big>(</big><em>showandcontentdict</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Backend.getShowDetails" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a list of Show object&#8217;s episodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>showandcontentlist</em> (dict) &#8211; dictionary { Show : content( raw html from web page ) }</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Database with api.dbapi.Show objects</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Database</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.backends.imdbtv.Backend.updateShows">
<!--[veefire.backends.imdbtv.Backend.updateShows]--><tt class="descname">updateShows</tt><big>(</big><em>Shows</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Backend.updateShows" title="Permalink to this definition">¶</a></dt>
<dd><p>Update Shows through a Backend.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><em>Shows</em> (list of api.dbapi.Show objects) &#8211; Shows to update</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Database of Show objects</p>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><tt class="xref docutils literal"><span class="pre">api.dbapi.Database</span></tt></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="veefire.backends.imdbtv.Regexes">
<!--[veefire.backends.imdbtv.Regexes]-->class <tt class="descclassname">veefire.backends.imdbtv.</tt><tt class="descname">Regexes</tt><a class="headerlink" href="#veefire.backends.imdbtv.Regexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Regular expressions for <tt class="xref docutils literal"><span class="pre">backends.imdbtv.Backend</span></tt>.</p>
<dl class="method">
<dt id="veefire.backends.imdbtv.Regexes.extractAirDate">
<!--[veefire.backends.imdbtv.Regexes.extractAirDate]--><tt class="descname">extractAirDate</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Regexes.extractAirDate" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the air date from an Episode string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.backends.imdbtv.Regexes.extractEpSeTitle">
<!--[veefire.backends.imdbtv.Regexes.extractEpSeTitle]--><tt class="descname">extractEpSeTitle</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Regexes.extractEpSeTitle" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the episode and season number and title from an Episode string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.backends.imdbtv.Regexes.removeEntities">
<!--[veefire.backends.imdbtv.Regexes.removeEntities]--><tt class="descname">removeEntities</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Regexes.removeEntities" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes XML entities from a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="veefire.backends.imdbtv.Regexes.removeTags">
<!--[veefire.backends.imdbtv.Regexes.removeTags]--><tt class="descname">removeTags</tt><big>(</big><em>string</em><big>)</big><a class="headerlink" href="#veefire.backends.imdbtv.Regexes.removeTags" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove sorrounding html/xml tags from a string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Return type:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<div class="section">
<h2 id="id6">Examples<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>For testing the examples in the Python interpreter, start your Python interactive shell, and do the following.</p>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">import</span> <span class="nn">os</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">chdir</span><span class="p">(</span><span class="s">&#39;&lt;path/to/veefire&gt;&#39;</span><span class="p">)</span> <span class="c"># path to your veefire directory</span>
</pre></div>
</div>
<p><strong>Example:</strong>:</p>
<pre>Update shows against imdbtv.</pre>
<div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.api.dbapi</span> <span class="k">import</span> <span class="n">Show</span><span class="p">,</span> <span class="n">Episode</span><span class="p">,</span> <span class="n">Season</span><span class="p">,</span> <span class="n">Database</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">from</span> <span class="nn">veefire.backends.imdbtv</span> <span class="k">import</span> <span class="n">Backend</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Showlist</span> <span class="o">=</span> <span class="p">[</span> <span class="n">Show</span><span class="p">(</span> <span class="s">&quot;Black Books&quot;</span><span class="p">,</span> <span class="s">&quot;30&quot;</span><span class="p">,</span> <span class="s">&quot;imdbtvbackend&quot;</span><span class="p">,</span> <span class="s">&quot;tt0262150&quot;</span> <span class="p">)</span> <span class="p">,</span>
<span class="gp">... </span><span class="n">Show</span><span class="p">(</span> <span class="s">&quot;Spaced&quot;</span><span class="p">,</span> <span class="s">&quot;60&quot;</span><span class="p">,</span> <span class="s">&quot;imdbtvbackend&quot;</span><span class="p">,</span> <span class="s">&quot;tt0187664&quot;</span> <span class="p">)</span> <span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">backend</span> <span class="o">=</span> <span class="n">Backend</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DB</span> <span class="o">=</span> <span class="n">backend</span><span class="o">.</span><span class="n">updateShows</span><span class="p">(</span> <span class="n">Showlist</span> <span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c"># Updates the show database from the backend.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">DB</span><span class="o">.</span><span class="n">printDb</span><span class="p">()</span>
<span class="go">####   Black Books   ####</span>
<span class="go">       Season: 1</span>
<span class="go">               Episode: Cooking the Books</span>
<span class="go">               Episode: Manny&#39;s First Day</span>
<span class="go">               Episode: The Grapes of Wrath</span>
<span class="go">               Episode: The Blackout</span>
<span class="go">               Episode: The Big Lock-Out</span>
<span class="go">               Episode: He&#39;s Leaving Home</span>
<span class="go">       Season: 2</span>
<span class="go">               Episode: The Entertainer</span>
<span class="go">               Episode: Fever</span>
<span class="go">               Episode: The Fixer</span>
<span class="go">               Episode: Blood</span>
<span class="go">               Episode: Hello Sun</span>
<span class="go">               Episode: A Nice Change</span>
<span class="go">       Season: 3</span>
<span class="go">               Episode: Manny Come Home</span>
<span class="go">               Episode: Elephants and Hens</span>
<span class="go">               Episode: Moo-Ma and Moo-Pa</span>
<span class="go">               Episode: A Little Flutter</span>
<span class="go">               Episode: The Travel Writer</span>
<span class="go">               Episode: Party</span>
<span class="go">####   Spaced   ####</span>
<span class="go">       Season: 1</span>
<span class="go">               Episode: Beginnings</span>
<span class="go">               Episode: Gatherings</span>
<span class="go">               Episode: Art</span>
<span class="go">               Episode: Battles</span>
<span class="go">               Episode: Chaos</span>
<span class="go">               Episode: Epiphanies</span>
<span class="go">               Episode: Ends</span>
<span class="go">       Season: 2</span>
<span class="go">               Episode: Back</span>
<span class="go">               Episode: Change</span>
<span class="go">               Episode: Mettle</span>
<span class="go">               Episode: Help</span>
<span class="go">               Episode: Gone</span>
<span class="go">               Episode: Dissolution</span>
<span class="go">               Episode: Leaves</span>
</pre></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The url should be the part after &#8220;/title/&#8221; in the url.</p>
<div class="last line-block">
<div class="line"><br /></div>
<div class="line"><em>http://www.imdb.com/title/tt0262150/episodes</em></div>
<div class="line"><br /></div>
<div class="line">relative url is:</div>
<div class="line"><br /></div>
<div class="line"><em>tt0262150</em></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3>Table Of Contents</h3>
            <ul>
<li><a class="reference" href=""><tt class="docutils literal"><span class="pre">veefire.api.dbapi</span></tt> &#8211; Database and Filesystem</a><ul>
<li><a class="reference" href="#examples">Examples</a></li>
</ul>
</li>
<li><a class="reference" href="#module-veefire.api.renameapi"><tt class="docutils literal"><span class="pre">veefire.api.renameapi</span></tt> &#8211; File, Folder and Rename</a><ul>
<li><a class="reference" href="#id1">Examples</a></li>
<li><a class="reference" href="#id2">Test Directory</a></li>
</ul>
</li>
<li><a class="reference" href="#module-veefire.api.preferencesapi"><tt class="docutils literal"><span class="pre">veefire.api.preferencesapi</span></tt> &#8211; Preferences</a><ul>
<li><a class="reference" href="#id3">Examples</a></li>
</ul>
</li>
<li><a class="reference" href="#module-veefire.api.backendapi"><tt class="docutils literal"><span class="pre">veefire.api.backendapi</span></tt> &#8211; Backends and BackendInterface</a><ul>
<li><a class="reference" href="#id4">Examples</a></li>
</ul>
</li>
<li><a class="reference" href="#module-veefire.backends.base"><tt class="docutils literal"><span class="pre">veefire.backends.base</span></tt> &#8211; Backend Superclass</a><ul>
<li><a class="reference" href="#id5">Examples</a></li>
</ul>
</li>
<li><a class="reference" href="#module-veefire.backends.imdbtv"><tt class="docutils literal"><span class="pre">veefire.backends.imdbtv</span></tt> &#8211; Backend to imdb.com&#8217;s tv section</a><ul>
<li><a class="reference" href="#id6">Examples</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="../index.html" title="previous chapter">Welcome to veefire&#8217;s documentation!</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../misc/database.html" title="next chapter">Show Database</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/modules/model.txt">Show Source</a></li>
            </ul>
            <h3>Quick search</h3>
            <form class="search" action="../search.html" method="get">
              <input type="text" name="q" size="18" /> <input type="submit" value="Go" />
              <input type="hidden" name="check_keywords" value="yes" />
              <input type="hidden" name="area" value="default" />
            </form>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="../misc/database.html" title="Show Database"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="Welcome to veefire&#8217;s documentation!"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">veefire v1.0 documentation</a> &raquo;</li>
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2008, Mats Taraldsvik.
      Last updated on May 18, 2009.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>